---
title:  "最近面试遇到的一些面试题 "
tags: 面试题  待补充
---

最近几次面试的一些面试题记录
<!--more-->
#### PHP以及微服务

> 1.在http + curl请求的微服务架构下，当高并发的情况下，可能导致端口数不够用，应该怎么解决？
```
使用RPC
```
>2.RPC使用什么实现


```
HTTP/2
```


> 3.php-fpm 运行机制？



#### MySQL相关

> 1.数据库连接数不够用怎么解决？
```
使用连接池
```
> 2.连接池的原理？
```
连接复用
待补充
```

> 3.表tab 有id,a,b,c,d四个字段，其中id为主键，a,b,c,d都是int型，abc设置为关联索引，问以下两个sql语句的效率已经能用上的索引

```
语句1：select id from tab where a=1 and b>1 and c >1;
语句2：select d from tab where  a=1 and b>1 and c >1;
语句1的效率更高 原因是：
其中语句2通过条件查询出主键后  再反查d的值

a 或者 abc联合索引 具体待补充
```

#### Elasticsearch


> 1.Elasticsearch分词器的类型，以及每种分词器的优缺点？

#### 算法相关

> 1. 一堆商品，每个商品的重量无规律，且小于23KG，每个商品的购买数量无规律，进行拆分分组，要求拆分后每组商品重量不得大于23kg，如何计算最优解？
```
只想到解法，暂未想到最优解
解法1：
1、把每种商品（重量，数量）按照重量排序
2、然后先取出一个最重的，假设是M千克，然后找到不大于23-M的最重的那个加入进来
3、再判断此时这个组合还剩多少空间，再去找不大于这个空间的最重的一个加进来
4、直到剩下的空间装最轻的都不够了，就完成一个组合
解法2：
1. 每次递归取出最大的  然后看剩余的和当前取出来的是否满足条件
```

#### Golang实现数据库连接池

``` go
111
```
#### PHP AOP的实现原理
```
php7的AST特性
```
#### PHP依赖注入的作用于实现原理
```
反射
```
#### Redis能实现锁的原因
```
Redis是单线程，数据在内存中
```

#### Redis 单线程为什么效率高
